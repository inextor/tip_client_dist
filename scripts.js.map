{"version":3,"sources":["webpack:///src/assets/js/paypal.js"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,IAAI,E;AACJ,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN,KAAK;AACL,IAAI;AACJ;;AAEA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,sCAAsC;AACpD;AACA,4BAA4B;AAC5B,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,sCAAsC;AAClD;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,sCAAsC;AACrD;AACA,4BAA4B,0BAA0B;AACtD,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL,IAAI;AACJ;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA","file":"scripts.js","sourcesContent":["\nfunction renderPaypalButton(serverAddress,tip)\n{\n\tpaypal.Buttons\n\t({\n\t\tcreateOrder: function(data, actions) {\n\t\t// Set up the transaction\n\t\t   //Call The server\n\t\t\treturn actions.order.create\n\t\t\t({\n\t\t\t\t\tpurchase_units: [{\n\t\t\t\t\t\tamount: {\n\t\t\t\t\t\t\t\tvalue: tip.price\n\t\t\t\t\t\t}\n\t\t\t\t\t}]\n\t\t\t\t\t,shipping_preference: \"NO_SHIPPING\"\n\t\t\t}); \n\t\t},\n\t\tonApprove: function(data, actions) {\n\t\t    console.log(\"Data has\",data);\n\t\t\t\t//MMMM Call Server On Capture\n\t\t\treturn actions.order.capture().then(function(details) {\n\t\t\t\talert('Transaction completed by ' + details.payer.name.given_name);\n\t\t\t\t// Call your server to save the transaction\n\t\t\t\t\n\t\t\t\t\treturn fetch(serverAddress+'/paypal-transaction-complete', {\n\t\t\t\t\tmethod: 'post',\n\t\t\t\t\tcredentials: 'include',\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'content-type': 'application/json'\n\t\t\t\t\t},\n\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\torderID: data.orderID\n\t\t\t\t\t})\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t}).render( '#paypal_button_'+tip.id );\n}\n\nfunction renderPaypalButtonSubscription(serverAddress )\n{\n\tpaypal.Buttons\n\t({\n\t\tcreateOrder: function (data, actions) {\n\t\t\treturn fetch(serverAddress+'/paypal_order.php?type=subscription', \n\t\t\t{\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: { 'content-type' : 'application/json' },\n\t\t\t\tcredentials: 'include',\n\t\t\t\tbody : JSON.stringify({})\n\t\t\t})\n\t\t\t.then(function(res){\n\t\t\t\treturn res.json();\n\t\t\t}).then(function(data) {\n\t\t\t\treturn data.id;\n\t\t\t});\n\t\t},\n\t\tonApprove: (data, actions)=>\n\t\t{\n\t\t\treturn captureOrder(serverAddress, data.orderID );\n\t\t}\n\t}).render( '#paypal_button_subscription');\n}\n\nfunction captureOrder(serverAddress,orderID)\n{\n\treturn fetch( serverAddress+'/paypal_order.php?paypal_order_id='+orderID+'&action=capture', \n\t{\n\t\tmethod: 'POST',\n\t\tcredentials: 'include',\n\t\theaders: { 'content-type' : 'application/json' },\n\t\tbody : ''\n\t}).then(function(res) {\n\t\treturn res.json();\n\t})\n\t.then(()=>\n\t{\n\t\twindow.location.reload();\n\t});\n}\n\nfunction renderPaypalButton2(serverAddress,tip)\n{\n\ttry\n\t{\n\t\tconsole.log(\"FOOO button2\");\n\t\tpaypal.Buttons\n\t\t({\n\t\t\tcreateOrder: function (data, actions) \n\t\t\t{\n\t\t\t\tconsole.log(\"Making fetch button2\");\n\t\t\t\treturn fetch(serverAddress+'/paypal_order.php?tip_id='+tip.id+'&type=tip', \n\t\t\t\t{\n\t\t\t\t\tmethod: 'post',\n\t\t\t\t\theaders: { 'content-type' : 'application/json' },\n\t\t\t\t\tcredentials: 'include',\n\t\t\t\t\tbody : JSON.stringify({tip_id: tip.id,type:'tip'})\n\t\t\t\t})\n\t\t\t\t.then(function(res){\n\t\t\t\t\treturn res.json();\n\t\t\t\t}).then(function(data) {\n\t\t\t\t\treturn data.id;\n\t\t\t\t});\n\t\t\t},\n\t\t\tonApprove: (data, actions)=>\n\t\t\t{\n\t\t\t\treturn captureOrder(serverAddress, data.orderID );\n\t\t\t}\n\t\t}).render( '#paypal_button_'+tip.id );\n\t}\n\tcatch(error)\n\t{\n\t\t\tconsole.log(\"FOOOOOO\",error);\n\t}\n}\n"],"sourceRoot":""}